{"version":3,"sources":["webpack:///./src/client/app/components/screens/auth/shared/AuthScreen.module.scss","webpack:///./src/client/app/components/screens/auth/RegisterScreen/MarkupWrapper.jsx","webpack:///./src/client/app/components/screens/auth/RegisterScreen/RegisterScreen.jsx","webpack:///./src/client/app/components/screens/auth/RegisterScreen/index.js"],"names":["module","exports","container","outer-box","inner-box","button-box","error","account","terms","container--screen_registration","MarkupWrapper_MarkupWrapper","_ref","children","encodedRedirectUrl","urlHelper","computeEncodedRedirectUrl","react_default","a","createElement","__source","fileName","_jsxFileName","lineNumber","className","AuthScreen_module_default","Link","to","href","target","rel","propTypes","prop_types_default","node","isRequired","RegisterScreen_MarkupWrapper","RegisterScreen_RegisterScreen","state","username","password","confirmPassword","handleInputChange","e","_this","setState","_defineProperty","name","value","handleSubmit","preventDefault","axios_default","post","then","response","storageHelper","setData","user","data","token","defaults","headers","common","Authorization","props","context","setUser","decodedParams","query_string_default","parse","window","location","search","history","push","redirectUrl","status","alert","Component","scrollTo","errorBox","RegisterScreen_jsxFileName","this","onSubmit","type","onChange","placeholder","required","object","auth_RegisterScreen_RegisterScreen","__webpack_exports__"],"mappings":"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","file":"js/4.bundle.49e8219434322f3552aa.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_container_143we\",\"outer-box\":\"_outer-box_2yCAt\",\"inner-box\":\"_inner-box_3ovxL\",\"button-box\":\"_button-box_2-Uz3\",\"error\":\"_error_3KfZZ\",\"account\":\"_account_13x4g\",\"terms\":\"_terms_2Bb_h\",\"container--screen_registration\":\"_container--screen_registration_1rc53\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport urlHelper from '../../../../utils/urlHelper';\r\nimport styles from '../shared/AuthScreen.module.scss';\r\n\r\nconst MarkupWrapper = ({ children }) => {\r\n  const encodedRedirectUrl = urlHelper.computeEncodedRedirectUrl();\r\n\r\n  return (\r\n    (\r\n      <main>\r\n        <div className={`${styles.container} ${styles['container--screen_registration']}`}>\r\n          <div className={styles['outer-box']}>\r\n            <div className={styles['inner-box']}>\r\n              <h1>Join Fedium.</h1>\r\n              <h2>Create an account to personalize your homepage, follow your favorite authors and publications, applaud stories you love, and more.</h2>\r\n\r\n              {children}\r\n\r\n              <div className={styles.account}>\r\n                Already have an account?\r\n                {' '}\r\n                <Link to={`/login?redirectUrl=${encodedRedirectUrl}`}>Sign in</Link>.\r\n              </div>\r\n              <div className={styles.terms}>\r\n                To make original Medium work, they(Medium team) log user data and share it with service providers. Click \"Sign up\" above to accept Mediumâ€™s\r\n                {' '}\r\n                <a href=\"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  Terms of Service\r\n                </a>\r\n                {' & '}\r\n                <a href=\"https://medium.com/policy/medium-privacy-policy-f03bf92035c9\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  Privacy Policy\r\n                </a>.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    )\r\n  );\r\n};\r\n\r\nMarkupWrapper.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default MarkupWrapper;\r\n\r\n/* eslint max-len: off */\r\n/* eslint react/no-unescaped-entities: off */\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\nimport queryString from 'query-string';\r\n\r\nimport { contextShape } from '../../../../utils/context';\r\nimport storageHelper from '../../../../utils/storageHelper';\r\nimport MarkupWrapper from './MarkupWrapper';\r\n\r\nimport styles from '../shared/AuthScreen.module.scss';\r\n\r\nclass RegisterScreen extends React.Component {\r\n  state = {\r\n    username: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    error: null,\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios.post('/api/auth/register', {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      confirmPassword: this.state.confirmPassword,\r\n    })\r\n      .then((response) => {\r\n        storageHelper.setData({\r\n          user: response.data.user,\r\n          token: response.data.token,\r\n        });\r\n        axios.defaults.headers.common.Authorization = `Bearer ${response.data.token}`;\r\n        this.props.context.setUser(response.data.user);\r\n\r\n        const decodedParams = queryString.parse(window.location.search);\r\n        this.props.history.push(decodedParams.redirectUrl);\r\n      }, (error) => {\r\n        const isValidationError = error.response.status >= 400 && error.response.status < 500;\r\n        if (isValidationError) {\r\n          this.setState({ error: error.response.data.error });\r\n        } else {\r\n          // eslint-disable-next-line no-alert\r\n          window.alert(error);\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const errorBox = (\r\n      <div className={styles.error}>\r\n        {this.state.error}\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <MarkupWrapper>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input type=\"text\" value={this.state.username} onChange={this.handleInputChange} name=\"username\" placeholder=\"Username\" required />\r\n          <input type=\"password\" value={this.state.password} onChange={this.handleInputChange} name=\"password\" placeholder=\"Password\" required />\r\n          <input type=\"password\" value={this.state.confirmPassword} onChange={this.handleInputChange} name=\"confirmPassword\" placeholder=\"Confirm Password\" required />\r\n          <div className={styles['button-box']}>\r\n            <button className=\"btn btn--inverted\">Sign up</button>\r\n          </div>\r\n          {this.state.error && errorBox}\r\n        </form>\r\n      </MarkupWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nRegisterScreen.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  context: contextShape.isRequired,\r\n};\r\n\r\nexport default RegisterScreen;\r\n","import RegisterScreen from './RegisterScreen';\r\n\r\nexport default RegisterScreen;\r\n"],"sourceRoot":""}